@use "../variables" as *;

.wpmoo-grid {
  --wpmoo-grid-columns: 12;
  --wpmoo-grid-gap: wpmoo-spacing(xl);
  --wpmoo-grid-gutter: 0;

  display: grid;
  gap: var(--wpmoo-grid-gap);
  grid-template-columns: repeat(var(--wpmoo-grid-columns), minmax(0, 1fr));
}

.wpmoo-grid--fields {
  align-items: stretch;
}

.wpmoo-grid .wpmoo-col {
  grid-column: span var(--wpmoo-grid-span, 12);
}

.wpmoo-col {
  --wpmoo-grid-span: 12;
}

.wpmoo-grid--guttered {
  --wpmoo-grid-gutter: var(--wpmoo-grid-gap);
  margin: calc(var(--wpmoo-grid-gutter) / -2);
}

.wpmoo-grid--guttered .wpmoo-col {
  padding: calc(var(--wpmoo-grid-gutter) / 2);
}

@for $i from 1 through 12 {
  .wpmoo-col-#{$i} {
    --wpmoo-grid-span: #{$i};
  }
}

$grid-breakpoints: (
  sm: 576px,
  md: 768px,
  lg: 992px,
  xl: 1200px,
  xxl: 1440px
);

@each $name, $width in $grid-breakpoints {
  @media (min-width: $width) {
    @for $i from 1 through 12 {
      .wpmoo-col-#{$name}-#{$i} {
        --wpmoo-grid-span: #{$i};
      }
    }
  }
}

@media (max-width: 1024px) {
  .wpmoo-grid {
    --wpmoo-grid-columns: 6;
  }
}

@media (max-width: 782px) {
  .wpmoo-grid {
    --wpmoo-grid-columns: 1;
  }

  .wpmoo-grid .wpmoo-col {
    --wpmoo-grid-span: 12;
  }
}

.wpmoo-grid.gap-sm {
  --wpmoo-grid-gap: wpmoo-spacing(sm);
}

.wpmoo-grid.gap-md {
  --wpmoo-grid-gap: wpmoo-spacing(md);
}

.wpmoo-grid.gap-lg {
  --wpmoo-grid-gap: wpmoo-spacing(lg);
}

.wpmoo-grid.gap-xl {
  --wpmoo-grid-gap: wpmoo-spacing(xl);
}

.wpmoo-grid.gutter-none {
  --wpmoo-grid-gutter: 0;
}

.wpmoo-grid.gutter-sm {
  --wpmoo-grid-gutter: wpmoo-spacing(sm);
}

.wpmoo-grid.gutter-md {
  --wpmoo-grid-gutter: wpmoo-spacing(md);
}

.wpmoo-grid.gutter-lg {
  --wpmoo-grid-gutter: wpmoo-spacing(lg);
}

.wpmoo-grid.gutter-xl {
  --wpmoo-grid-gutter: wpmoo-spacing(xl);
}
